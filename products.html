<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ykeyb</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/products.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="/favicon.ico">
</head>
<body>
  <div id="cursor" class="cursor">
    <div class="cursor-inner">‚òÖ</div>
  </div>
  <header>
    <h2 class="title"><a href="index.html">Ykeyb</a></h2>
    <ul class="nav-menu">
      <li><a href="products.html">Ë£ΩÂìÅ‰∏ÄË¶ß</a></li>
      <li><a href="form.html">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</a></li>
      <li><a href="login.html">„É≠„Ç∞„Ç§„É≥</a></li>
    </ul>
  </header>

  <div id="loading-bar-back">
    <div id="star">‚òÜ</div>
    <div id="bar"></div>
  </div>
  <script>
    window.onload = function() {
        const loadingBar = document.getElementById("loading-bar-back");
        const bar = document.getElementById("bar");
        const star = document.getElementById("star");

        bar.addEventListener("animationend", () => {
            loadingBar.classList.add("hidden");
            setTimeout(() => {
                loadingBar.style.display = "none";
            }, 500);
        });
    };
  </script>

  <div class="main_content">
    <div class="search-head">
        <h1>Ë£ΩÂìÅ‰∏ÄË¶ß</h1>
        <hr>
        <div class="head-btn">
        <label><input class="check" type="checkbox" name="saling" onclick="checking()">ÂªÉÁõ§„É¢„Éá„É´„ÇíÈô§„Åè</label>
        <select name="jouken" id="order" onchange="sortItems()">
            <option value="desc">Êñ∞„Åó„ÅÑÈ†Ü</option>
            <option value="asc">Âè§„ÅÑÈ†Ü</option>
        </select>
        <div class="input-wrapper">
          <input id="text" type="text" name="word" placeholder="üîç„Ç≠„Éº„ÉØ„Éº„ÉâÊ§úÁ¥¢">
          <button type="button" class="clear-btn">‚úï</button>
        </div>
        <input id="submit" type = "button" value="Ê§úÁ¥¢" onclick="search()">
        </div>
    </div>
    <script>
      function checking(){
        check_box = document.querySelector('.check');
        ended = document.querySelectorAll('.end');
        ended.forEach(element => {
          if(check_box.checked){
            element.style.display = 'none';
          }else{
            element.style.display = 'inline';
          }
        });
        if(check_box.checked){
          check_box.checked = true;
        }else{
          check_box.checked = false;
        }
        search();
      }

      function search(){
        word = document.getElementById('text').value.trim();
        keywords = word.split(/\s+/);
        product = document.querySelectorAll('.product');
        if(word != ''){
          product.forEach(element => {
            title = element.querySelector('.products_title').textContent.trim();
            if(keywords.every(keyword => (title.includes(keyword)))){
              element.style.display = 'list-item';
            }else{
              element.style.display = 'none';
            }
          });
        }else{
          product.forEach(element =>{
            element.style.display = 'list-item';
          })
        }
        sortItems();

        check_box = document.querySelector('.check');
        ended = document.querySelectorAll('.end');
        if(check_box.checked){
          product.forEach(element =>{
            if(element.style.display =="list-item" 
            && element.classList.contains('end')){
              element.style.display = 'none';
            } 
          })
        }
      }

      function sortItems() {
        let order = document.getElementById('order').value;
        let productList = document.getElementById('product-list');
        let products = Array.from(productList.getElementsByClassName('product')); 

        products.sort((a, b) => {
            let idA = parseInt(a.getAttribute('data-id'));
            let idB = parseInt(b.getAttribute('data-id'));
            
            if (order === 'asc') {
                return idA-idB; 
            } else {
                return idB-idA;
            }
        });
        // ‰∏¶„Å≥Êõø„Åà„ÅüÂïÜÂìÅ„ÇíÂÜçÈÖçÁΩÆ
        products.forEach(product => productList.appendChild(product));
      }
      const textInput = document.getElementById('text');
      const clearBtn = document.querySelector('.clear-btn');

      // ÂÖ•ÂäõÊôÇ„Å´„ÇØ„É™„Ç¢„Éú„Çø„É≥„ÅÆË°®Á§∫ÔºèÈùûË°®Á§∫„ÇíÂàá„ÇäÊõø„Åà
      textInput.addEventListener('input', () => {
        clearBtn.style.display = textInput.value.length ? 'block' : 'none';
      });

      // „ÇØ„É™„Ç¢„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Åü„Å®„Åç„Å´ÂÖ•ÂäõÂÜÖÂÆπ„Çí„É™„Çª„ÉÉ„Éà
      clearBtn.addEventListener('click', () => {
        textInput.value = '';
        clearBtn.style.display = 'none';
        textInput.focus();
      });
    </script>
    <div class="products">
        <ul id="product-list">
            <li class="product" data-id="4">
              <img src="image/top/products/a75ultra.jpg" alt="a75ultra">
              <h4 class="products_title">ÊòüÁ©∫„Ç≠„Éº„Éú„Éº„Éâ</h4>
              <button class="buy-btn" onclick="location.href='product1.html'">Ë£ΩÂìÅË©≥Á¥∞</button>
            </li>
            <li class="product end" data-id="3">
              <img src="image/top/products/v75.jpg" alt="v75">
              <h4 class="products_title">„É¨„Éà„É≠„Ç≠„Éº„Éú„Éº„Éâ</h4>
              <button class="buy-btn no-hover" style="background-color: darkgray; color: dimgray;">Ë£ΩÈÄ†ÁµÇ‰∫Ü</button>
            </li>
            <li class="product end" data-id="2">
                <img src="image/top/products/raven61.jpg" alt="raven61">
                <h4 class="products_title">„Åä„Åï„Åã„Å™„Ç≠„Éº„Éú„Éº„Éâ</h4>
                <button class="buy-btn no-hover" style="background-color: darkgray; color: dimgray;">Ë£ΩÈÄ†ÁµÇ‰∫Ü</button>
              </li>
            <li class="product end" data-id="1">
                <img src="image/top/products/g75.jpg" alt="g75">
                <h4 class="products_title">Á¥ÖÁôΩ„Ç≠„Éº„Éú„Éº„Éâ</h4>
                <button class="buy-btn no-hover" style="background-color: darkgray; color: dimgray;">Ë£ΩÈÄ†ÁµÇ‰∫Ü</button>
            </li>
        </ul>
    </div>
  </div>

    <footer>
        <div class="footer_container">
        <div class="footer_title">
            <p>Company</p>
        </div>
        <ul>
            <li>About Ykeyb</li>
            <li>Contact Us</li>
            <li>Blog</li>
            <li>Discord Community</li>
            <li>Official Partner</li>
        </ul>
        </div>
        <div class="footer_container">
        <div class="footer_title">
            <p>Support</p>
        </div>
        <ul>
            <li>My Order</li>
            <li>Privacy Policy</li>
            <li>User Manual</li>
            <li>FAQ</li>
            <li>Support Form</li>
        </ul>
        </div>
    </footer>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>

    <canvas id="starfield"></canvas>
    <script src="js/script.js"></script>
</body>
